// SPDX-License-Identifier: GPL-2.0-only

&CPU0 {
	operating-points-v2 = <&cpu_opp_table>;
	voltage-tolerance = <1>;
	cpu0-supply = <&s3>;
};

&CPU1 {
	operating-points-v2 = <&cpu_opp_table>;
	voltage-tolerance = <1>;
	cpu-supply = <&s3>;
};

&CPU2 {
	operating-points-v2 = <&cpu_opp_table>;
	voltage-tolerance = <1>;
	cpu-supply = <&s3>;
};

&CPU3 {
	operating-points-v2 = <&cpu_opp_table>;
	voltage-tolerance = <1>;
	cpu-supply = <&s3>;
};

&cpus {
	cpu_opp_table: cpu_opp_table {
		compatible = "operating-points-v2";
		opp-shared;

		opp-1017600000 {
			opp-hz = /bits/ 64 <1017600000>;
			opp-microvolt = <704000>;
			clock-latency-ns = <200000>;
		};
		opp-1382400000 {
			opp-hz = /bits/ 64 <1382400000>;
			opp-microvolt = <824000>;
			clock-latency-ns = <200000>;
		};
	};
};

&cpu0_thermal {
	trips {
		cpu0_passive: cpu-passive {
			temperature = <95000>;
			hysteresis = <2000>;
			type = "passive";
		};

		cpu0_crit: cpu_crit {
			temperature = <110000>;
			hysteresis = <1000>;
			type = "critical";
		};
	};

	cooling-maps {
		map0 {
			trip = <&cpu0_passive>;
			cooling-device = <&CPU0 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU1 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU2 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU3 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>;
		};
	};
};

&cpu1_thermal {
	trips {
		cpu1_passive: cpu-passive {
			temperature = <95000>;
			hysteresis = <2000>;
			type = "passive";
		};

		cpu1_crit: cpu_crit {
			temperature = <110000>;
			hysteresis = <1000>;
			type = "critical";
		};
	};

	cooling-maps {
		map0 {
			trip = <&cpu1_passive>;
			cooling-device = <&CPU0 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU1 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU2 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU3 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>;
		};
	};
};

&cpu2_thermal {
	trips {
		cpu2_passive: cpu-passive {
			temperature = <95000>;
			hysteresis = <2000>;
			type = "passive";
		};

		cpu2_crit: cpu_crit {
			temperature = <110000>;
			hysteresis = <1000>;
			type = "critical";
		};
	};

	cooling-maps {
		map0 {
			trip = <&cpu2_passive>;
			cooling-device = <&CPU0 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU1 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU2 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU3 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>;
		};
	};
};

&cpu3_thermal {
	trips {
		cpu3_passive: cpu-passive {
			temperature = <95000>;
			hysteresis = <2000>;
			type = "passive";
		};

		cpu3_crit: cpu_crit {
			temperature = <110000>;
			hysteresis = <1000>;
			type = "critical";
		};
	};

	cooling-maps {
		map0 {
			trip = <&cpu3_passive>;
			cooling-device = <&CPU0 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU1 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU2 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU3 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>;
		};
	};
};

&cluster_thermal {
	trips {
		cluster_passive: cluster-passive {
			temperature = <95000>;
			hysteresis = <2000>;
			type = "passive";
		};

		cluster_crit: cluster_crit {
			temperature = <110000>;
			hysteresis = <1000>;
			type = "critical";
		};
	};

	cooling-maps {
		map0 {
			trip = <&cluster_passive>;
			cooling-device = <&CPU0 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU1 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU2 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>,
					 <&CPU3 THERMAL_NO_LIMIT THERMAL_NO_LIMIT>;
		};
	};
};

&soc {
	dummy_reg: dummy-regulator@0 {
		compatible = "regulator-fixed";
		regulator-name = "dummy-reg";
		regulator-min-microvolt = <848000>;
		regulator-max-microvolt = <848000>;
		regulator-always-on;
		regulator-boot-on;
	};

	nss-common {
		compatible = "qcom,nss-common";
		reg = <0x01868010 0x1000>;
		reg-names = "nss-misc-reset";
	};

	nss0: nss@40000000 {
		compatible = "qcom,nss";
		interrupts = <GIC_SPI 377 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 378 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 379 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 380 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 381 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 382 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 383 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 384 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 385 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 386 IRQ_TYPE_EDGE_RISING>;
		reg = <0x39000000 0x1000>,
		      <0x38000000 0x30000>,
		      <0x0b111000 0x1000>;
		reg-names = "nphys", "vphys", "qgic-phys";
		clocks = <&gcc GCC_NSS_NOC_CLK>,
			 <&gcc GCC_NSS_PTP_REF_CLK>,
			 <&gcc GCC_NSS_CSR_CLK>, <&gcc GCC_NSS_CFG_CLK>,
			 <&gcc GCC_NSS_IMEM_CLK>,
			 <&gcc GCC_NSSNOC_QOSGEN_REF_CLK>,
			 <&gcc GCC_MEM_NOC_NSS_AXI_CLK>,
			 <&gcc GCC_NSSNOC_SNOC_CLK>,
			 <&gcc GCC_NSSNOC_TIMEOUT_REF_CLK>,
			 <&gcc GCC_NSS_CE_AXI_CLK>,
			 <&gcc GCC_NSS_CE_APB_CLK>,
			 <&gcc GCC_NSSNOC_CE_AXI_CLK>,
			 <&gcc GCC_NSSNOC_CE_APB_CLK>,
			 <&gcc GCC_NSSNOC_UBI0_AHB_CLK>,
			 <&gcc GCC_UBI0_CORE_CLK>,
			 <&gcc GCC_UBI0_AHB_CLK>,
			 <&gcc GCC_UBI0_AXI_CLK>,
			 <&gcc GCC_UBI0_MPT_CLK>,
			 <&gcc GCC_UBI0_NC_AXI_CLK>;
		clock-names = "nss-noc-clk", "nss-ptp-ref-clk",
			      "nss-csr-clk", "nss-cfg-clk",
			      "nss-imem-clk",
			      "nss-nssnoc-qosgen-ref-clk",
			      "nss-mem-noc-nss-axi-clk",
			      "nss-nssnoc-snoc-clk",
			      "nss-nssnoc-timeout-ref-clk",
			      "nss-ce-axi-clk", "nss-ce-apb-clk",
			      "nss-nssnoc-ce-axi-clk",
			      "nss-nssnoc-ce-apb-clk",
			      "nss-nssnoc-ahb-clk",
			      "nss-core-clk", "nss-ahb-clk",
			      "nss-axi-clk", "nss-mpt-clk",
			      "nss-nc-axi-clk";
		qcom,id = <0>;
		qcom,num-queue = <4>;
		qcom,num-irq = <10>;
		qcom,num-pri = <4>;
		qcom,load-addr = <0x40000000>;
		qcom,low-frequency = <187200000>;
		qcom,mid-frequency = <748800000>;
		qcom,max-frequency = <1497600000>;
		npu-supply = <&dummy_reg>;
		mx-supply = <&dummy_reg>;
	};

	nss1: nss@40800000 {
		compatible = "qcom,nss";
		interrupts = <GIC_SPI 390 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 391 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 392 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 393 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 394 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 395 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 396 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 397 IRQ_TYPE_EDGE_RISING>,
			     <GIC_SPI 398 IRQ_TYPE_EDGE_RISING>;
		reg = <0x39400000 0x1000>,
		      <0x38030000 0x30000>,
		      <0x0b111000 0x1000>;
		reg-names = "nphys", "vphys", "qgic-phys";
		clocks = <&gcc GCC_NSS_NOC_CLK>,
			 <&gcc GCC_NSS_PTP_REF_CLK>,
			 <&gcc GCC_NSS_CSR_CLK>, <&gcc GCC_NSS_CFG_CLK>,
			 <&gcc GCC_NSS_IMEM_CLK>,
			 <&gcc GCC_NSSNOC_QOSGEN_REF_CLK>,
			 <&gcc GCC_MEM_NOC_NSS_AXI_CLK>,
			 <&gcc GCC_NSSNOC_SNOC_CLK>,
			 <&gcc GCC_NSSNOC_TIMEOUT_REF_CLK>,
			 <&gcc GCC_NSS_CE_AXI_CLK>,
			 <&gcc GCC_NSS_CE_APB_CLK>,
			 <&gcc GCC_NSSNOC_CE_AXI_CLK>,
			 <&gcc GCC_NSSNOC_CE_APB_CLK>,
			 <&gcc GCC_NSSNOC_UBI1_AHB_CLK>,
			 <&gcc GCC_UBI1_CORE_CLK>,
			 <&gcc GCC_UBI1_AHB_CLK>,
			 <&gcc GCC_UBI1_AXI_CLK>,
			 <&gcc GCC_UBI1_MPT_CLK>,
			 <&gcc GCC_UBI1_NC_AXI_CLK>;
		clock-names = "nss-noc-clk", "nss-ptp-ref-clk",
			      "nss-csr-clk", "nss-cfg-clk",
			      "nss-imem-clk",
			      "nss-nssnoc-qosgen-ref-clk",
			      "nss-mem-noc-nss-axi-clk",
			      "nss-nssnoc-snoc-clk",
			      "nss-nssnoc-timeout-ref-clk",
			      "nss-ce-axi-clk", "nss-ce-apb-clk",
			      "nss-nssnoc-ce-axi-clk",
			      "nss-nssnoc-ce-apb-clk",
			      "nss-nssnoc-ahb-clk",
			      "nss-core-clk", "nss-ahb-clk",
			      "nss-axi-clk", "nss-mpt-clk",
			      "nss-nc-axi-clk";
		qcom,id = <1>;
		qcom,num-queue = <4>;
		qcom,num-irq = <9>;
		qcom,num-pri = <4>;
		qcom,load-addr = <0x40800000>;
	};
};
